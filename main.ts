namespace SpriteKind {
    export const ghost = SpriteKind.create()
    export const beaver = SpriteKind.create()
    export const caterpillar = SpriteKind.create()
    export const StatusBar = SpriteKind.create()
}
function spawnbeaver () {
    beaver1 = sprites.create(img`
        ................
        ................
        ................
        ................
        ................
        .......eeee.....
        .....eeeeeee.eee
        ....eefeeeeeeeee
        ....feeeeeeeeee.
        ....ffeeeeeeee..
        .......ff...ff..
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        `, SpriteKind.beaver)
    beaver1.ay = 300
    animation.runImageAnimation(
    beaver1,
    [img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...............e....
        ...eeeeee.....eec...
        eee2eeeeeee...eec...
        eeeeeeeeeeeee.eec...
        eeeeeeeeeeeeeeeec...
        eeeeeeeeeeeeeeeec...
        eeeeeeeeeeeeee......
        11eeeeeeeee.........
        ...f......f.........
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...ee..........e....
        eee2eeeee.....eec...
        eeeeeeeeeee...eec...
        eeeeeeeeeee...eec...
        eeeeeeeeeeee..eec...
        11...eeeeeeeeeeec...
        ....eeeeeeeeee......
        ....eeeeeeeeee......
        11eeeeeeeee.........
        ....f....f..........
        `],
    200,
    true
    )
    beaver1.setPosition(citronelle.x + 100, citronelle.y)
    beaver1.follow(citronelle, 40)
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (splash == 0) {
        if (citronelle.vy <= 0) {
            citronelle.vy = -100
        } else {
            citronelle.vy = -50
        }
        projectile2 = sprites.createProjectileFromSprite(img`
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ................
            ......11111.....
            .....11...11....
            ....11.....1....
            ....11.....1....
            .....1....11....
            .....111111.....
            `, citronelle, 0, 50)
        music.play(music.createSoundEffect(WaveShape.Sine, 107, 1105, 255, 255, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    }
})
function spawncaterpillar () {
    for (let value of tiles.getTilesByType(assets.tile`myTile1`)) {
        caterpillar = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.caterpillar)
        caterpillar.vx = 5
        caterpillar.setBounceOnWall(true)
        animation.runImageAnimation(
        caterpillar,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . 6 . 6 . 6 . . 6 . 6 . . . 
            . . . 6 . a . a . . a . a . . . 
            . . a a a a a a a a a a a a . . 
            . a a a a a a a a a a a 2 a . . 
            . a a a a a a a a a a a a a . . 
            . a a a a a a a a a a a a . . . 
            . f . . f . . f . . f . f . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . 6 . . . . . . . 
            . . . . . . a a a . . . . . . . 
            . . . . 6 a a a a a a 6 . . . . 
            . . . . a a a a a a a a . . . . 
            . . 6 a a a a a a a a a a 6 . . 
            . . . a a a a a a a a a a . . . 
            . 6 a a a a a f . . f a a a . . 
            . . a a a f . . . . . a 2 a . . 
            . . a a a . . . . . . f a a . . 
            . . a a a . . . . . . . a a . . 
            . . a a f . . . . . . . f . . . 
            `],
        400,
        true
        )
        tiles.placeOnTile(caterpillar, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.beaver, function (sprite, otherSprite) {
    otherSprite.setKind(SpriteKind.ghost)
    otherSprite.follow(citronelle, 0)
    otherSprite.setVelocity(0, 0)
    music.play(music.createSoundEffect(WaveShape.Noise, 1856, 1015, 255, 0, 1000, SoundExpressionEffect.Vibrato, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    animation.runImageAnimation(
    otherSprite,
    [img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...............e....
        ...eeeeee.....eec...
        eee2eeeeeee...eec...
        eeeeeeeeeeeee.eec...
        eeeeeeeeeeeeeeeec...
        eeeeeeeeeeeeeeeec...
        eeeeeeeeeeeeee......
        11eeeeeeeee.........
        ...f......f.........
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ........2...........
        .....22..22.........
        ...ee2222.2....e....
        e.e2.eeee.....eec...
        eeeeeeeeeee...eec...
        eeeeee2eeee...eec...
        eeeeeeeeee2e..eec...
        11.22ee2eeeeeeeec...
        ....e2eeeee2ee......
        ....eeee2eeeee......
        11eeeeeeeee.........
        ....f....f..........
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ..............2.....
        .............22..2..
        ...ee2.........e22..
        ...22222222.22eec...
        ..ee.eee22e22.eec...
        e....e2eeee...eec...
        ..e.eeeeee2e..eec...
        2..22ee2eeeeeeee2...
        ....e2eeeee2ee...22.
        ....eeee2eeeee..2...
        11eeeeeeeee.....2...
        ....f....f..........
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ..............2.....
        .............22..2..
        ...............e22..
        ....2222222.22eec...
        ...eeeee22e22.eec...
        ...eee2eeee...e22...
        ..eeeeeeee2e..eec...
        ...22ee22eeeeeee2...
        ....e2ee22e2ee22.22.
        ....eeee2e222e..2...
        ...eee22eee2222.2...
        ....f..2.f..22......
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ........222.22ee.22.
        ......ee22e22.eec2..
        ......2eeee..22ec2..
        ...e..eeee2e.22222..
        .....ee22e2222222...
        ....e2ee22e2ee22222.
        ....eeee2e222e..2...
        ..2e2e22eee2222.22..
        .222f..2.f..22.2222.
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ............2.e.....
        .....e2ee2e...eec...
        ...eeeeee22e2.eec...
        ...22ee222e222ee2...
        ....e2e222222222222.
        ....e22222222e222...
        ..2e2222ee22222222..
        .222f..2.f..22.2222.
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ..........e...e.....
        .......ee22e2.e.....
        .....ee222e222ee2...
        ....e2e222222222222.
        ....e22222222e22....
        ..2e2222ee222222.2..
        .222f.2222222222222.
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .........22.........
        ......e222e222e.....
        .....2e222222222....
        ....e22222222e22....
        ..2e2222ee222222.2..
        .222f.2222222222222.
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .......22222222.....
        .....22222222e222...
        ....2222ee222222.2..
        ...2f.2222222222222.
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .......22...22......
        .....222..22.e.22...
        ....2222ee22...2.2..
        ...2f.2222222222222.
        `,img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ...............22...
        ....2..2..22...2.2..
        ...2..2222222222222.
        `],
    150,
    false
    )
    pause(2000)
    sprites.destroy(otherSprite)
})
function createsoap () {
    for (let value of tiles.getTilesByType(assets.tile`myTile`)) {
        caterpillar = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . 1 1 1 . . . . . 
            . . . . . . 1 1 1 1 1 1 . . . . 
            . . . . 1 1 1 1 1 1 1 1 . . . . 
            . . . 1 1 1 1 1 1 1 1 1 . . . . 
            . . . 1 1 1 1 1 1 1 1 1 . . . . 
            . . . 1 1 1 1 1 1 1 1 1 . . . . 
            . . . 1 1 1 1 1 1 1 1 . . . . . 
            . . . 1 1 1 1 1 1 1 1 . . . . . 
            . . . . 1 1 1 1 1 . . . . . . . 
            . . . . . 1 1 1 . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Food)
        tiles.placeOnTile(caterpillar, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
        animation.runMovementAnimation(
        caterpillar,
        animation.animationPresets(animation.bobbing),
        1000,
        true
        )
    }
}
sprites.onOverlap(SpriteKind.beaver, SpriteKind.Player, function (sprite, otherSprite) {
    if (info.life() > 1) {
        damage = 1
        sprites.destroy(sprite, effects.fire, 500)
        music.play(music.createSoundEffect(WaveShape.Sine, 5000, 3101, 255, 255, 350, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
        animation.runImageAnimation(
        citronelle,
        [img`
            ................
            ................
            .......33.......
            .......33.......
            ....552533252ff.
            ..ff5555232555ff
            ..f.5555555555..
            ..f.5555555555..
            .ff.555ffffff5ff
            ..ff.55f5555f5.f
            .ff...5ff5555...
            ....5544444455..
            ....5444444445..
            ....5444444445..
            ....5.444444.5..
            ......a....a....
            .....aa....a....
            .....a.....a....
            ....aa.....aa...
            ............aa..
            `,img`
            ................
            ................
            .......33.......
            .......33.......
            ....552533252ff.
            ..ff5555232555ff
            ..f.5555555555.2
            ..f.5555555525..
            .ff.555ffffff5ff
            ..ff.25f5555f5.f
            .ff...5ff5555...
            ....55444444552.
            ..2.5444444445..
            ....5444444445..
            2...5.444444.5..
            ......a....a....
            .....aa....a....
            .....a.....a....
            ....aa.....aa...
            ............aa..
            `],
        100,
        true
        )
        pause(500)
        info.changeLifeBy(-1)
        damage = 0
    } else {
        gameover()
    }
})
sprites.onOverlap(SpriteKind.caterpillar, SpriteKind.Player, function (sprite, otherSprite) {
    if (info.life() > 1) {
        damage = 1
        sprites.destroy(sprite, effects.fire, 500)
        music.play(music.createSoundEffect(WaveShape.Sine, 5000, 3101, 255, 255, 350, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
        animation.runImageAnimation(
        citronelle,
        [img`
            ................
            ................
            .......33.......
            .......33.......
            ....aa2a332a2ff.
            ..ffaaaa232aaaff
            ..f.aaafaaafaa..
            ..f.aaaaaaaaaa..
            ....aaaaaaaaaaff
            ..ff.aaaaaaaaa.f
            .ff...aaaaaaa...
            ....aa444444aa..
            ....a44444444a..
            ....a44444444a..
            ....a.444444.a..
            ......a....a....
            .....aa....a....
            .....a.....a....
            ....aa.....aa...
            ............aa..
            `,img`
            ................
            ................
            .......33.......
            .......33.......
            ....aa2a33aa2ff.
            ..ffaaaa232aaaff
            ..f.2aaaaaaaaa..
            ..f.aaaaaaaa2a..
            ....aaaaaaaaaaff
            ..ff.2affffaaa.f
            .ff...afaaf2a...
            ....aa444444aa..
            ....a44444444a..
            ....a44444444a..
            ....a.444444.a..
            ......a....a....
            .....aa....a....
            .....a.....a....
            ....aa.....aa...
            ............aa..
            `],
        100,
        true
        )
        pause(500)
        info.changeLifeBy(-1)
        damage = 0
    } else {
        gameover()
    }
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (splash == 0) {
        music.play(music.createSoundEffect(WaveShape.Noise, 927, 1675, 255, 255, 200, SoundExpressionEffect.Warble, InterpolationCurve.Curve), music.PlaybackMode.InBackground)
        if (citronelle.vx < 0) {
            projectile = sprites.createProjectileFromSprite(img`
                ....................
                ....................
                ....................
                ....................
                ....................
                ....................
                ....................
                22..2..2............
                .22..2..22.2........
                ....22...2...2......
                .2222..2.222.222....
                ...22.2.............
                .2....22.2..........
                2.2.2...............
                ....................
                ....................
                ....................
                ....................
                ....................
                ....................
                `, citronelle, aim, 0)
        } else {
            projectile = sprites.createProjectileFromSprite(img`
                ....................
                ....................
                ....................
                ....................
                ....................
                ....................
                ....................
                ............2..2..22
                ........2.22..2..22.
                ......2...2...22....
                ....222.222.2..2222.
                .............2.22...
                ..........2.22....2.
                ...............2.2.2
                ....................
                ....................
                ....................
                ....................
                ....................
                ....................
                `, citronelle, aim, 0)
        }
    }
})
function createcitronelle () {
    citronelle = sprites.create(img`
        ......333.......
        ......3.35......
        fff...553355..ff
        ..fff55555555ff.
        .....55f55f55...
        ....555555555ff.
        ffff555555555..f
        ....55ffffff5ff.
        ....f55555555..f
        .ffff.555555....
        .f.....555......
        ....554444445...
        ....544444445...
        ....544444445...
        ....544444445...
        ......aaaaa.....
        ......a...a.....
        ......a...a.....
        ......a...a.....
        .....aa...aa....
        `, SpriteKind.Player)
    for (let value of tiles.getTilesByType(assets.tile`myTile0`)) {
        tiles.placeOnTile(citronelle, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    controller.moveSprite(citronelle, 100, 0)
    citronelle.ay = 300
    scene.cameraFollowSprite(citronelle)
    info.setLife(3)
}
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.caterpillar, function (sprite, otherSprite) {
    otherSprite.setKind(SpriteKind.ghost)
    otherSprite.vx = 0
    music.play(music.createSoundEffect(WaveShape.Sine, 790, 1, 255, 255, 1000, SoundExpressionEffect.Vibrato, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    animation.runImageAnimation(
    otherSprite,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . 6 . 6 . 6 . . 6 . 6 . . . 
        . . . 6 . a . a . . a . a . . . 
        . . a a a a a a a a a a a a . . 
        . a a a a a a a a a a a 2 a . . 
        . a a a a a a a a a a a a a . . 
        . a a a a a a a a a a a a . . . 
        . f . . f . . f . . f . f . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 6 . . 6 . . . . . . 
        . . . . . a a a a a a . . . . . 
        . . . 6 a a a a a a a . . . . . 
        . . . a a a a a a a a a 6 . . . 
        . 6 a a a a 2 2 a a a a a a . . 
        . a a a a 2 . . . a a 2 a a . . 
        . a a a a . . . . . a a a . . . 
        . f . . f . . . . . . . f . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 6 a a a 6 . . . . 
        . . . . a a a a a a a a . . . . 
        . . 6 a a a a a a a a a a 6 . . 
        . . . a a a a 2 2 2 a a a . . . 
        . 6 a a a 2 2 2 2 f a a a . . . 
        . . a a 2 2 2 . . . a 2 a . . . 
        . . a a 2 2 . . . . f a a . . . 
        . . a a 2 . . . . . a a a . . . 
        . . . a f . . . . . f . . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . 6 . . . . . . . 
        . . . . . . . a a a a 6 . . . . 
        . . . . . 6 a a a a a a . . . . 
        . . . . . a a a a a a a a 6 . . 
        . . . . a a a a a a a a a . . . 
        . . . 6 a a a f 2 f a a a . . . 
        . . . a a a 2 2 2 2 a 2 a . . . 
        . . . a a a 2 2 2 2 f a a . . . 
        . . . . a a a a a . . a a . . . 
        . . . . . a a a 2 . . f . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . a . . . . . . 
        . . . . . . a a a a a a . . . . 
        . . . . . a a a a a a a . . . . 
        . . . a a a a 2 2 2 2 a a . . . 
        . . . a a a 2 2 . 2 f 2 a a . . 
        . . . a a a 2 2 2 2 2 2 2 a . . 
        . . . a a a 2 2 . 2 2 2 a a . . 
        . . . . a a a 2 a 2 a a a a . . 
        . . . . . a a a 2 a a a f . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . a a a a . . . . 
        . . . . . a a a 2 2 2 a a . . . 
        . . . . a a 2 2 2 2 f 2 a a . . 
        . . . a a a 2 2 2 2 2 2 2 a . . 
        . . . a a a 2 2 2 2 2 2 a 2 2 . 
        . . . 2 2 a 2 a a 2 2 2 2 a 2 2 
        . . . 2 2 a 2 2 2 a a a 2 2 . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . 2 2 . . . . . 
        . . . . . . . 2 2 2 f 2 a a . . 
        . . . . . a 2 2 2 2 2 2 2 a . . 
        . . . a a a 2 2 2 2 2 2 a 2 2 . 
        . . . 2 2 2 2 2 2 2 2 2 2 2 2 2 
        . 2 2 2 2 a 2 2 2 a 2 2 2 2 2 2 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 2 2 2 2 2 2 . . . 
        . . . . . . 2 2 2 2 2 2 a . . . 
        . . . 2 2 2 2 2 2 2 2 2 2 2 2 2 
        . 2 2 2 2 a 2 2 2 a 2 2 2 2 2 2 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . 2 2 2 . 2 2 2 2 2 2 2 2 . 
        . 2 2 2 2 a 2 2 2 a 2 2 2 . 2 2 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . 2 2 . . . . . . 2 . . . 
        . . 2 2 2 2 2 2 2 a 2 2 2 2 2 . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . 2 2 2 . . . . . . . 
        . . . . 2 2 2 2 2 2 2 2 . . . . 
        `,img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . 2 2 . 2 2 2 2 2 . . . . 
        `],
    150,
    false
    )
    pause(2000)
    sprites.destroy(otherSprite)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite3, otherSprite3) {
    sprites.destroy(otherSprite3)
    info.changeScoreBy(1)
    spawnbeaver()
})
function gameover () {
    citronelle.setKind(SpriteKind.ghost)
    controller.moveSprite(citronelle, 0, 0)
    damage = 1
    music.play(music.createSoundEffect(WaveShape.Sine, 2459, 642, 255, 255, 1700, SoundExpressionEffect.Vibrato, InterpolationCurve.Logarithmic), music.PlaybackMode.InBackground)
    animation.runImageAnimation(
    citronelle,
    [img`
        ..ff...f....ff..
        ...ff.33ee.ff.ff
        f...f5f335f5.ff.
        .ff.55555555ff..
        ..ff55555555f...
        ...5555ff5555...
        ..f555f22f555...
        .ff.55f22f555...
        ....55fff555....
        .....555555.....
        ...5544444455...
        ...5444444445...
        ...5444444445...
        ...5444444445...
        ...5444444445...
        .....a....a.....
        .....a....a.....
        .....a....a.....
        .....a....a.....
        ....aa....aa....
        `,img`
        ................
        ................
        f...f5f335f5.ff.
        .ff.52555255ff..
        ..ff52555555f...
        ...5555ff5525...
        ..f525f22f555...
        .ff.55f22f555...
        ....55fff225....
        .....555225.....
        ...5544442455...
        ...2224444445...
        ...2444444445...
        ...5444444445...
        ...5444444445...
        .....a22..a2....
        .....a2...a2....
        .....a....a.....
        .....a....a.....
        ....aa....aa....
        `,img`
        ................
        ................
        ................
        ................
        f...f5f335f5.ff.
        .ff.52555255ff..
        ..ff52555555f...
        ...5555ff5525...
        ..f522f22f255...
        .ff.55f222555...
        ..2.55ff2225....
        .....555225.....
        ...5544442455...
        .222224444425...
        ...2444244425...
        ...5444444445...
        ...5422444442...
        ....22..22a.....
        ....22....2..22.
        .....a....22....
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ....f.f335f5.f..
        ..f..2552255ff..
        ...f52225225f...
        ...5555ff5525...
        ..f522f22f222...
        .ff.22f252552...
        ..2.25ff22222...
        .....555225.....
        .2.5544442455..2
        .222224244425...
        ..22444244225..2
        .225444444422.2.
        .22544444444222.
        .....a....a....2
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ......552.......
        ...f5222522.....
        ...5555ff5525...
        ..f522f22f222...
        .ff.22f252552...
        ..2.25ff52222...
        .....555225.....
        .2.5544442455..2
        .222224244425...
        ..22444244225..2
        .225444444222.2.
        .22544442244222.
        .....a.2..a....2
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        .....2.....5ff..
        ....522..225f...
        ...5555f.5525...
        ..f522f22f222...
        .ff.22f222552...
        ..2.25ff22222...
        .....555225.....
        .2.5544442455..2
        .222224244425...
        ...2444244425..2
        ...5444444445.2.
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ......5f........
        .....2f2.f222...
        .f..22f222552...
        ..2.25ff22222...
        .....555225.....
        .2.5522222455..2
        .222224244225...
        ...2422222225..2
        ...5424444445.2.
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ......f.........
        .....2f222......
        ....25ff22222...
        .....555225.....
        .2.5522222455..2
        .2222242442222..
        ...2222222225222
        2222422222422.22
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ...5522222455..2
        .2222242442222..
        ...2222222225222
        2222422222422.22
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ...............2
        .22..24244...2..
        ...2222222225222
        2222422222422.22
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        .2..............
        .......2.......2
        22224..222422.22
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ...24..22242....
        `,img`
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ................
        ...2...222......
        `],
    100,
    false
    )
    pause(2000)
    game.gameOver(false)
}
let aim = 0
let projectile: Sprite = null
let damage = 0
let caterpillar: Sprite = null
let projectile2: Sprite = null
let citronelle: Sprite = null
let beaver1: Sprite = null
let splash = 0
splash = 1
scene.setBackgroundImage(img`
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999991119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999991119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999991119999999999999999999999999999999999999999999999999999999999999999999999999999999911199999999999999999999999999999999999999999999999999
    9999999999991111119999991119999999999999999999999911111111999999999999999999999991119999999111999999911111111199999111999999999999999999999111111111111999999999
    9999999911111111119999991119999991111111111119999911111111999999999991111111999991111999999111999999911111111199999111999999999111999999999111111111111999999999
    9999999111111111119999999999999991111111111119991111111111199999999111111111199991111199999111999999911111111199999111999999999111999999999111111111199999999999
    9999991111111199999999999999999991111111111119991119999111199999999111111111199991111111999111999999111999999999999111999999999111999999999111999999999999999999
    9999991111199999999999999999999999999911199999991119999111199999991111199111199999111111199111199999111999999999999111999999999111999999999111999999999999999999
    9999911111999999999999991119999999999911199999991111111111199999911111999911199999111111199111199999111999911199991111999999999111999999999111111111119999999999
    9999911119999999999999991119999999999911199999991111111111199999911119999911199999111111119911199999111111111199999111999999999111999999999111111111111999999999
    9999911199999999999999991119999999999911199999991111111119999999911119999911119999111911111911199999111111111199999119999999999111999999999111111111111999999999
    9999911199999999999999991119999999999911199999991111111111999999911199999911119999111911111911119999111111111199999119999999999111999999999111199991111999999999
    9999911199999999999999991119999999999911199999991111111111199999911119999991119999111991111111119999111999999999999119999999999111999999999111199999999999999999
    9999911199999999999999991119999999999911199999991111991111119999911119999991119999111999111111119999111999999999999111999999999111999999999911199999999999999999
    9999911119999999999999991119999999999911199999999111999111119999991111999911119999111999911111119999111999999999999111999999999111199999999911199999999999999999
    9999911111119911119999991119999999999911199999999111999911111999991111199911119999111999911111119999111199999999999111111999999111199999999911111111111999999999
    9999911111111111119999991119999999999911199999999111999991111999991111199911199999111999991111119999111199999999999111111119999911111119999911111111111999999999
    9999991111111111119999991119999999999911199999999111999999111999999111111111199991111999999111119999111111111111999111111119999911111119999911111111111999999999
    9999999999111111199999991119999999999911199999999111999999999999999911111199999991111999999111119999911111111111999999911119999911111119999999999999999999999999
    9999999999991111199999999999999999999999999999999111999999999999999991111199999991119999999911199999911111111111999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999933333333999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999333333333333333999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999993999999999999339333333999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999933933..3333333993333339339999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999993393..339999933339933393339999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999993333999333333333333393333933999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999993339.33399933933933333333939399999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    99999999999999999999999999999999999999999933.3333333333333393333935533355999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999993339335555553533335333553355355555999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999993335555555555333333535355535355555559999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999993555555555555533353535335535355555555599999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999555555555555555553535353535335335555555555999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999955555555555555555553535353555555535555555555599999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999555555555555555555555555355555555555555555555555999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999955555555555555555555555555555555555555555555555555999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999555555555555555555555555555555555555555555555555555599999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999955555555555555555555555555555555555555555555555555555599999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999955555555555555555555555555555555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999993333555555555555555555555555555555555555555555555555555555553333333999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999933333555555555555555555555555555555555555555555555555555555553333333333333999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999333333555555555555555555555555555555555555555555555555555555553333333333333339999999999999999999999999999999999999999999999999999999999
    9999999999999999999999993333395555555555555555555555555555555555555555555555555555555553999933333333333399999999999999999999999999999999999999999999999999999999
    9999999999999999999999933333995555555555555555555fffff5555555555555555555555555555555559999999999933333333999999999999999999999999999999999999999999999999999999
    9999999999999999999999333339995555555555555555555fffff55555555555555555555fffff555555559999999999999333333399999999999999999999999999999999999999999999999999999
    9999999999999999999993333399995555555555555555555fffff55555555555555555555fffff555555559999999999999993333399999999999999999999999999999999999999999999999999999
    9999999999999999999933333999995555555555555555555fffff55555555555555555555fffff555555559999999999999999933339999999999999999999999999999999999999999999999999999
    9999999999999999999333339999995555555555555555555fffff55555555555555555555fffff555555553399999999999999933333999999999999999999999999999999999999999999999999999
    99999999999999999933333999999955555555555555555555555555555555555555555555fffff555555533339999999999999993333999999999999999999999999999999999999999999999999999
    9999999999999999933333999999995555555555555555555555555555555555555555555555555555555533333999999999999999333399999999999999999999999999999999999999999999999999
    9999999999999999333339999999995555555555555555555555555555555555555555555555555555555533333399999999999999333339999999999999999999999999999999999999999999999999
    9999999999999993333399999999995555555555555555555555555555555555555555555555555555555593333399999999999999933339999999999999999999999999999999999999999999999999
    9999999999999933333999999999995555555555555555555555555555555555555555555555555555555999333399999999999999993339999999999999999999999999999999999999999999999999
    9999999999999333339999999999333555555555555555555555555555555555555555555555555555555999333339999999999999993339999999999999999999999999999999999999999999999999
    9999999999993333399999999933333555555555555555555555555555555555555555555555555555555999933333339999999999993333999999999999999999999999999999999999999999999999
    9999999999993333999999999933333555555555555555555555555555555555555555555555555555555999993333339999999999993333999999999999999999999999999999999999999999999999
    9999999999993339999999999933339555555555555555555555555555555555555555555555555555555999999333333999999999993333999999999999999999999999999999999999999999999999
    9999999999993339999999999333399555555555555555555555555555555555555555555555555555555999999993333339999999999999999999999999999999999999999999999999999999999999
    9999999999933339999999999333399955555555555555555555555555555555555555555555555555555399999999333339999999999999999999999999999999999999999999999999999999999999
    9999999999933339999999993333999995555555555555555555555555555555555555555555555555553339999999933333999999999999999999999999999999999999999999999999999999999999
    9999999999933399999999933333999999555555555555555555555555555555555555555555555555553333999999993333999999999999999999999999999999999999999999999999999999999999
    9999999999933399999993333339999999955555555555555555555555555555555555555555555555553333339999993333399999999999999999999999999999999999999999999999999999999999
    999999999993339999993333339999999933355555555555555555555f555555555555555f55555555999333339999999333339999999999999999999999999999999999999999999999999999999999
    999999999999999999933333399999999333395555555555555555555ff5555555555555f555555559999333333999999933333999999999999999999999999999999999999999999999999999999999
    9999999999999999993333399999999933333995555555555555555555ff55555555555f5555555599999993333399999993333339999999999999999999999999999999999999999999999999999999
    99999999999999999933339999999993333399955555555555555555555ffffffffffff55555555999999993333339999999333339999999999999999999999999999999999999999999999999999999
    9999999999999999993339999999933333339999995555555555555555555555555555555555559999999999933333999999933339999999999999999999999999999999999999999999999999999999
    9999999999999999933339999999933333999999995555555555555555555555555555555555599999999999993333399999933339999999999999999999999999999999999999999999999999999999
    9999999999999999933339999999333339999999999995555555555555555555555555555555999999999999999333333999999999999999999999999999999999999999999999999999999999999999
    9999999999999999933399999999333399999999999999955555555555555555555555555559999999999999999933333399999999999999999999999999999999999999999999999999999999999999
    9999999999999999333399999993333399999999999999999955555555555555555555555599999999999999999993333339999999999999999999999999999999999999999999999999999999999999
    9999999999999999333399999993333999999999999999999999999999999999999999999999999999999999999999933339999999999999999999999999999999999999999999999999999999999999
    9999999999999999333399999933333999999999999999994444444444444444444449999999999999999999999999993339999999999999999999999999999999999999999999999999999999999999
    9999999999999999933399999933339999999999999999994444444444444444444444999999999999999999999999993333999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999333339999999999999994444444444444444444444444999999999999999999999999993333999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999333399999999999999444444444444444444444444444999999999999999999999999999333399999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999333399999999999994444444444444444444444444444455559999999999999999999999333333999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999333999999999999944444444444444444444444444444455559999999999999999999999933333399999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999444444444444444444444444444444455555599999999999999999999993333399999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999555544444444444444444444444444444455555599999999999999999999993333399999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999555544444444444444444444444444444455555559999999999999999999999333399999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999995555544444444444444444444444444444455555555999999999999999999999333999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999955555544444444444444444444444444444455555555599999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999555555544444444444444444444444444444445555555599999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999555555544444444444444444444444444444449555555559999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999995555555944444444444444444444444444444444955555555999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999995555555994444444444444444444444444444444995555555999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999995555555994444444444444444444444444444444999555555999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999955555559994444444444444444444444444444444999555555599999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999955555599994444444444444444444444444444444499955555599999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999955555599994444444444444444444444444444444499995555559999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999955555999994444444444444444444444444444444499995555555999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999555555999994444444444444444444444444444444499999555555599999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999555555999994444444444444444444444444444444449999555555599999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999555559999944444444444444444444444444444444449999955555599999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999555559999944444444444444444444444444444444449999955555559999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999995555559999944444444444444444444444444444444449999955555555999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999995555599999944444444444444444444444444444444444999999555555599999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999995555599999444444444444444444444444444444444444999999555555599999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999995555599999444444444444444444444444444444444444499999999555599999999999999999999999999999999999999999999999999999999999999999999999
    `)
music.play(music.createSong(hex`00c8000408020100001c00010a006400f401640000040000000000000000000000000005000004360000000400012c04000800012a08000c0001270c001000012010001400012714001800012918001c0001271c0020000124200024000125`), music.PlaybackMode.InBackground)
pause(1800)
scene.setBackgroundColor(9)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
tiles.setCurrentTilemap(tilemap`level1`)
createcitronelle()
createsoap()
spawncaterpillar()
splash = 0
game.onUpdate(function () {
    if (damage == 0) {
        if (citronelle.vy < 0) {
            citronelle.setImage(img`
                ......333.......
                ......3.3.......
                ......553355....
                .....55f55f55...
                .....55555555...
                .....55555555...
                ....555555555...
                ..3355555f55533.
                333.555555555.33
                ....355555555...
                ..333.55555533..
                ..3..3.5555..33.
                ....55444445..33
                ...5.44444445...
                ..5..4444444.5..
                .....a....a.....
                .....a....a.....
                .....a....a.....
                ....aa...aa.....
                ....a....a......
                `)
        } else if (citronelle.vy > 0) {
            citronelle.setImage(img`
                .....3..33.3....
                ...3.3.333.33...
                ..33.333.3..3...
                ..3..33553.33.3.
                ..3..5555555.3..
                3..35555555533..
                .3..55555555....
                .33555f55f55....
                ...555555555....
                ...555555555....
                ....555555f5....
                ..5..55ffff.5...
                ...5..555..5....
                ....5544445.....
                .....444444.....
                .....444444.....
                .....a....a.....
                ....a......a....
                ...a.......a....
                ..aa.......aa...
                `)
        } else if (citronelle.vy == 0 && citronelle.vx < 0) {
            citronelle.setImage(img`
                .......333......
                ......53.3......
                33..553355...333
                .3355555555333..
                ...55f55f55.....
                .33555555555....
                3..5555555553333
                .335ffffff55....
                3..555555553....
                ....555555.3333.
                ......555.....3.
                ...544444455....
                ...544444445....
                ...544444445....
                ...544444445....
                .....aaaaa......
                .....a...a......
                .....a...a......
                .....a...a......
                ....aa..aa......
                `)
        } else {
            citronelle.setImage(img`
                ......333.......
                ......3.35......
                333...553355..33
                ..3335555555533.
                .....55f55f55...
                ....55555555533.
                3333555555555..3
                ....55ffffff533.
                ....355555555..3
                .3333.555555....
                .3.....555......
                ....554444445...
                ....544444445...
                ....544444445...
                ....544444445...
                ......aaaaa.....
                ......a...a.....
                ......a...a.....
                ......a...a.....
                ......aa..aa....
                `)
        }
        if (citronelle.vx >= 0) {
            aim = 200
        } else {
            aim = -200
        }
    }
})
